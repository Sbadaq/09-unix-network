# 第五章 posix消息队列 

## 5.1 概述
posix消息队列是linux系统提供的一种消息传递机制，消息队列是先进先出（FIFO）的，消息队列中的消息是可读可写的，消息队列中的消息是可共享的，消息队列中的消息是可持久化的。
消息队列的创建和删除，以及消息的读写都是原子操作，所以消息队列是线程安全的。
posix消息队列和管道的区别：
 
消息队列和管道都是用于进程间通信的机制，但存在一些区别。
- 管道是字节流，消息队列是字节块；
- 管道是半双工的，只能用于读写；
消息队列的创建和删除，以及消息的读写都是原子操作，所以消息队列是线程安全的。

消息队列具有 随内核的一致性，这一点与fifo不同，fifo是随文件系统的一致性。
## 5.2 posix消息队列的创建
mq_open函数用于创建或打开一个消息队列。
mq_clo函数用于关闭一个消息队列。
mq_unlink函数用于删除一个消息队列。

## 5.3 posix消息队列的四个属性
mq_getattr函数用于获取消息队列的属性。
mq_setattr函数用于设置消息队列的属性。

